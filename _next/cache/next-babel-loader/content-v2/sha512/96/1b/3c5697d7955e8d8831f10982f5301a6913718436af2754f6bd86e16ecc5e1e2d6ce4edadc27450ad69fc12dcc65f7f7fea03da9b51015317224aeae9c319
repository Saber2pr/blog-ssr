{"ast":null,"code":"var __jsx = React.createElement;\nimport './style.less';\nimport React, { useState } from 'react';\nimport useInterval from 'react-use/lib/useInterval';\nexport var TimeBtn = function TimeBtn(_ref) {\n  var _onClick = _ref.onClick,\n      _ref$time = _ref.time,\n      time = _ref$time === void 0 ? 60 : _ref$time;\n\n  var _useState = useState('获取验证码'),\n      text = _useState[0],\n      setText = _useState[1];\n\n  var _useState2 = useState(time),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useState3 = useState(false),\n      isRunning = _useState3[0],\n      toggleIsRunning = _useState3[1];\n\n  useInterval(function () {\n    if (state > 0) {\n      setState(state - 1);\n    } else {\n      setState(time);\n      setText('重新发送');\n      toggleIsRunning(false);\n    }\n  }, isRunning ? 1000 : null);\n  return __jsx(\"button\", {\n    disabled: isRunning,\n    onClick: function onClick() {\n      _onClick(function () {\n        return toggleIsRunning(true);\n      });\n    },\n    className: \"TimeBtn\",\n    style: {\n      cursor: isRunning ? 'not-allowed' : 'pointer'\n    }\n  }, isRunning ? __jsx(\"span\", {\n    style: {\n      color: '#BBB6C8'\n    }\n  }, state) : text);\n};","map":null,"metadata":{},"sourceType":"module"}