{"ast":null,"code":"import { useCallback } from 'react';\nimport { Dingtalk } from '../api/dingtalk';\nimport { useSelectState } from '../store';\nexport var useUserDingtalkFn = function useUserDingtalkFn() {\n  // user应从store中获取(useSelector)\n  var user = useSelectState('userInfo');\n  var send = useCallback(function (message) {\n    var _user$nickName, _user$role$notes, _user$role;\n\n    var nickName = (_user$nickName = user === null || user === void 0 ? void 0 : user.nickName) !== null && _user$nickName !== void 0 ? _user$nickName : '游客用户';\n    var notes = (_user$role$notes = user === null || user === void 0 ? void 0 : (_user$role = user.role) === null || _user$role === void 0 ? void 0 : _user$role.notes) !== null && _user$role$notes !== void 0 ? _user$role$notes : '-';\n    Dingtalk.sendMessage(\"\\u7528\\u6237[\".concat(nickName, \", \").concat(notes, \"]: \").concat(message));\n  }, [user]);\n  return send;\n};","map":null,"metadata":{},"sourceType":"module"}