{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar __jsx = React.createElement;\nimport './style.less';\nimport AntdAvatar from 'antd/lib/avatar';\nimport React, { useEffect, useState } from 'react';\nimport { resolveImgSrc } from '../../utils/resolveImgSrc';\nexport var Avatar = function Avatar(_ref) {\n  var src = _ref.src,\n      pendingSrc = _ref.pendingSrc,\n      props = _objectWithoutProperties(_ref, [\"src\", \"pendingSrc\"]);\n\n  var _useState = useState(src),\n      display = _useState[0],\n      setDisplay = _useState[1];\n\n  useEffect(function () {\n    setDisplay(src);\n  }, [src]);\n  useEffect(function () {\n    if (pendingSrc) {\n      pendingSrc.then(setDisplay);\n    }\n  }, [pendingSrc]);\n  return __jsx(AntdAvatar, _extends({}, props, {\n    src: resolveImgSrc(display)\n  }));\n};","map":null,"metadata":{},"sourceType":"module"}