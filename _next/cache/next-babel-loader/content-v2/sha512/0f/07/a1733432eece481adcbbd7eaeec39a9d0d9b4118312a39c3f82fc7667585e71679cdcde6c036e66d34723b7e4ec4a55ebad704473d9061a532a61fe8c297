{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n// antd\nimport 'antd/dist/antd.min.css'; // moment\n\nimport 'moment/locale/zh-cn';\nimport 'nprogress/nprogress.css'; // styles\n\nimport '../styles/utils.less';\nimport '../styles/global.less';\nimport '../styles/reset.less';\nimport '../styles/animation.less';\nimport '../styles/components.less';\nimport '../styles/shadow.less';\nimport Head from 'next/head';\nimport NProgress from 'nprogress';\nimport { useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { ApiConfig } from '../api/apiConfig';\nimport { requestApi, requestUri } from '../api/request';\nimport { requestProxy } from '../api/requestProxy';\nimport { useRouterChange } from '../hooks/useRouterChange';\nimport { useUserDingtalkFn } from '../hooks/useUserDingtalk';\nimport { useStore } from '../store';\nimport { printLogo } from '../utils/console';\n\nconst ComponentWrapper = ({\n  Component,\n  pageProps\n}) => {\n  const send = useUserDingtalkFn();\n  useRouterChange({\n    start: () => NProgress.start(),\n    end: () => {\n      NProgress.done();\n      send(`正在浏览页面->${document.title}`);\n    },\n    error: () => NProgress.done()\n  }, [send]);\n  return __jsx(Component, pageProps);\n};\n\nexport default function App(AppProps) {\n  var _AppProps$pageProps;\n\n  const store = useStore(AppProps === null || AppProps === void 0 ? void 0 : (_AppProps$pageProps = AppProps.pageProps) === null || _AppProps$pageProps === void 0 ? void 0 : _AppProps$pageProps.initialReduxState);\n  useEffect(() => {\n    // registerAnalyticsGoogle('UA-XXX')\n    printLogo();\n    NProgress.configure({\n      minimum: 0.08,\n      easing: 'linear',\n      speed: 200,\n      trickleSpeed: 200\n    });\n\n    if (ApiConfig.log) {\n      window['__store'] = store;\n      window['__config'] = ApiConfig;\n      window['__requestApi'] = requestApi;\n      window['__requestUri'] = requestUri;\n      window['__requestProxy'] = requestProxy;\n      window['__NProgress'] = NProgress;\n    }\n  }, []);\n  return __jsx(Provider, {\n    store: store\n  }, __jsx(Head, null, __jsx(\"meta\", {\n    \"http-equiv\": \"Content-Security-Policy\",\n    content: \"upgrade-insecure-requests\"\n  }), __jsx(\"meta\", {\n    name: \"keywords\",\n    content: \"react,antd,typescript,javascript,css,html,\\u524D\\u7AEF\\u5B66\\u4E60,\\u524D\\u7AEF\\u8FDB\\u9636,\\u4E2A\\u4EBA\\u535A\\u5BA2\"\n  }), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"\\u957F\\u671F\\u66F4\\u65B0\\u524D\\u7AEF\\u6280\\u672F\\u6587\\u7AE0,\\u5206\\u4EAB\\u524D\\u7AEF\\u6280\\u672F\\u7ECF\\u9A8C\"\n  }), __jsx(\"link\", {\n    rel: \"manifest\",\n    href: \"./manifest.json\"\n  }), __jsx(\"script\", {\n    src: \"//cdn.jsdelivr.net/gh/Saber2pr/loading@master/index.min.js\"\n  }), __jsx(\"script\", {\n    async: true,\n    src: \"//cdn.jsdelivr.net/gh/saber2pr/click-mask@master/click-mask.min.js\"\n  }), __jsx(\"script\", {\n    async: true,\n    src: \"//cdn.jsdelivr.net/gh/saber2pr/test@master/tools/debug.min.js\"\n  }), __jsx(\"script\", {\n    async: true,\n    src: \"http://pv.sohu.com/cityjson?ie=utf-8\"\n  })), __jsx(ComponentWrapper, AppProps));\n}","map":null,"metadata":{},"sourceType":"module"}