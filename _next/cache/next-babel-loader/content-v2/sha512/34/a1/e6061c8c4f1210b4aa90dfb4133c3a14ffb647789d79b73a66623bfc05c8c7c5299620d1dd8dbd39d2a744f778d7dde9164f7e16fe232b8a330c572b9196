{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { InputHistory } from '../utils/input-history';\n/**\n * 输入记录\n * ```ts\n * // 示例\n * const [searchList, setSearchList] = useInputHistory('search_user')\n * ```\n * @param key\n * @param defaultList\n */\n\nexport const useInputHistory = (key, defaultList = []) => {\n  const {\n    0: list,\n    1: setList\n  } = useState([]);\n\n  const setDisplayList = list => {\n    if (list.length) {\n      setList(list);\n    } else {\n      setList(defaultList);\n    }\n  };\n\n  const initHistoryList = () => {\n    const history = InputHistory.getList(key);\n\n    if (history) {\n      setDisplayList(history);\n    }\n  };\n\n  useEffect(() => {\n    initHistoryList();\n  }, [key]);\n\n  const pushItem = value => {\n    if (value) {\n      InputHistory.pushItem(key, value);\n      initHistoryList();\n    }\n  };\n\n  return [list, pushItem];\n};","map":null,"metadata":{},"sourceType":"module"}