{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { InputHistory } from '../utils/input-history';\n/**\n * 输入记录\n * ```ts\n * // 示例\n * const [searchList, setSearchList] = useInputHistory('search_user')\n * ```\n * @param key\n * @param defaultList\n */\n\nexport var useInputHistory = function useInputHistory(key) {\n  var defaultList = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var _useState = useState([]),\n      list = _useState[0],\n      setList = _useState[1];\n\n  var setDisplayList = function setDisplayList(list) {\n    if (list.length) {\n      setList(list);\n    } else {\n      setList(defaultList);\n    }\n  };\n\n  var initHistoryList = function initHistoryList() {\n    var history = InputHistory.getList(key);\n\n    if (history) {\n      setDisplayList(history);\n    }\n  };\n\n  useEffect(function () {\n    initHistoryList();\n  }, [key]);\n\n  var pushItem = function pushItem(value) {\n    if (value) {\n      InputHistory.pushItem(key, value);\n      initHistoryList();\n    }\n  };\n\n  return [list, pushItem];\n};","map":null,"metadata":{},"sourceType":"module"}