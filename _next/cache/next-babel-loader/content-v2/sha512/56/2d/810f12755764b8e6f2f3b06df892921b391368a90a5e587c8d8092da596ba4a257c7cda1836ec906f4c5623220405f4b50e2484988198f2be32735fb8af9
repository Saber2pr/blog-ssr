{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n// antd\nimport 'antd/dist/antd.min.css'; // moment\n\nimport 'moment/locale/zh-cn';\nimport 'nprogress/nprogress.css'; // styles\n\nimport '../styles/utils.less';\nimport '../styles/global.less';\nimport '../styles/reset.less';\nimport '../styles/animation.less';\nimport '../styles/components.less';\nimport '../styles/shadow.less';\nimport Head from 'next/head';\nimport NProgress from 'nprogress';\nimport { useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { ApiConfig } from '../api/apiConfig';\nimport { requestApi, requestUri } from '../api/request';\nimport { requestProxy } from '../api/requestProxy';\nimport { useRouterChange } from '../hooks/useRouterChange';\nimport { useUserDingtalkFn } from '../hooks/useUserDingtalk';\nimport { useStore } from '../store';\nimport { printLogo } from '../utils/console';\n\nvar ComponentWrapper = function ComponentWrapper(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n  var send = useUserDingtalkFn();\n  useRouterChange({\n    start: function start() {\n      return NProgress.start();\n    },\n    end: function end() {\n      NProgress.done();\n      send(\"\\u6B63\\u5728\\u6D4F\\u89C8\\u9875\\u9762->\".concat(document.title));\n    },\n    error: function error() {\n      return NProgress.done();\n    }\n  }, [send]);\n  return __jsx(Component, pageProps);\n};\n\nexport default function App(AppProps) {\n  var _AppProps$pageProps;\n\n  var store = useStore(AppProps === null || AppProps === void 0 ? void 0 : (_AppProps$pageProps = AppProps.pageProps) === null || _AppProps$pageProps === void 0 ? void 0 : _AppProps$pageProps.initialReduxState);\n  useEffect(function () {\n    // registerAnalyticsGoogle('UA-XXX')\n    printLogo();\n    NProgress.configure({\n      minimum: 0.08,\n      easing: 'linear',\n      speed: 200,\n      trickleSpeed: 200\n    });\n\n    if (ApiConfig.log) {\n      window['__store'] = store;\n      window['__config'] = ApiConfig;\n      window['__requestApi'] = requestApi;\n      window['__requestUri'] = requestUri;\n      window['__requestProxy'] = requestProxy;\n      window['__NProgress'] = NProgress;\n    }\n  }, []);\n  return __jsx(Provider, {\n    store: store\n  }, __jsx(Head, null, __jsx(\"link\", {\n    rel: \"dns-prefetch\",\n    href: \"//cdn.jsdelivr.net\"\n  }), __jsx(\"meta\", {\n    httpEquiv: \"x-ua-compatible\",\n    content: \"ie=edge, chrome=1\"\n  })), __jsx(ComponentWrapper, AppProps));\n}","map":null,"metadata":{},"sourceType":"module"}