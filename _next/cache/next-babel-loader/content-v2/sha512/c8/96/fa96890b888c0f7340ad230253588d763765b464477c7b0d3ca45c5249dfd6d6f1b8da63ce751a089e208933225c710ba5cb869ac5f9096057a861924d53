{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect } from 'react';\nimport { ApiConfig } from '../api/apiConfig';\nimport { KEYS } from '../utils/constants';\nimport { Messager } from '../utils/message';\nimport { deepGet } from '../utils/obj-op';\nimport { ptbk } from '../utils/ptbk';\n/**\n * 拦截所有页面的props\n */\n\nexport function withPage(Component) {\n  return props => {\n    if (ptbk.isPtbk(props)) {\n      props = ptbk.decode(props);\n    }\n\n    useEffect(() => {\n      if (ApiConfig.log) {\n        var _props;\n\n        console.log(props);\n\n        if (new RegExp(`\\\\${KEYS.error}`).test(JSON.stringify((_props = props) !== null && _props !== void 0 ? _props : {}))) {\n          const error = deepGet(props, KEYS.error);\n\n          if (error) {\n            Messager.error(error);\n          }\n        }\n      }\n    }, []);\n    return __jsx(Component, props);\n  };\n}","map":null,"metadata":{},"sourceType":"module"}